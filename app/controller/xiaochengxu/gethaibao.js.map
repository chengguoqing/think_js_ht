{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\controller\\xiaochengxu\\gethaibao.js"
    ],
    "names": [
        "Base",
        "require",
        "webshot",
        "tengxun_sc",
        "fs",
        "module",
        "exports",
        "indexAction",
        "date_s",
        "ctx",
        "post",
        "JSON",
        "parse",
        "decryption",
        "token",
        "sd_sdf",
        "get_sdf",
        "url_er",
        "url_e",
        "test_up_etr",
        "file_name",
        "urk_dd",
        "ssd_sd",
        "url",
        "sd_ddf",
        "code",
        "msg",
        "data",
        "encryption",
        "stringify",
        "fail",
        "Promise",
        "resolve",
        "reject",
        "options",
        "screenSize",
        "width",
        "height",
        "console",
        "log",
        "think",
        "uuid",
        "e",
        "sd_dsf"
    ],
    "mappings": ";;AAAA,MAAMA,OAAOC,QAAQ,eAAR,CAAb;AACA,IAAIC,UAAUD,QAAQ,SAAR,CAAd;AACA,MAAME,aAAaF,QAAQ,0BAAR,CAAnB;AACA,IAAIG,KAAKH,QAAQ,IAAR,CAAT;AACA;AACAI,OAAOC,OAAP,GAAiB,cAAcN,IAAd,CAAmB;AAC1BO,eAAN,GAAoB;AAAA;;AAAA;AAChB,gBAAIC,SAAS,MAAKC,GAAL,CAASC,IAAT,EAAb;AACAF,qBAASG,KAAKC,KAAL,CAAW,MAAKC,UAAL,CAAgBL,OAAOM,KAAvB,CAAX,CAAT;AACA,gBAAIC,SAAS,MAAM,MAAKC,OAAL,CAAaR,OAAOS,MAApB,CAAnB;AACE,gBAAIC,QAAQ,MAAMf,WAAWgB,WAAX,CAAuBJ,OAAOK,SAA9B,EAAyCL,OAAOM,MAAhD,CAAlB;AACF,gBAAIC,SAAS,EAAb;AACAA,mBAAOC,GAAP,GAAaL,KAAb;AACA,gBAAIM,SAAS,EAAb;AACAA,mBAAOC,IAAP,GAAc,CAAd;AACAD,mBAAOE,GAAP,GAAa,SAAb;AACAF,mBAAOG,IAAP,GAAc,MAAKC,UAAL,CAAgBjB,KAAKkB,SAAL,CAAeP,MAAf,CAAhB,CAAd;;AAEA,mBAAO,MAAKQ,IAAL,CAAUN,MAAV,CAAP,CAZgB,CAYU;AAZV;AAcnB;AACDR,YAAQC,MAAR,EAAgB;AACZ,eAAO,IAAIc,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,gBAAIC,UAAU;AACVC,4BAAY;AACRC,2BAAO,GADC;AAERC,4BAAQ;AAFA;AADF,aAAd;AAMAC,oBAAQC,GAAR,CAAYtB,MAAZ;;AAEA,gBAAIG,YAAYoB,MAAMC,IAAN,KAAe,MAA/B;AAAA,gBACIpB,SAAS,oBAAoBD,SADjC;AAEAlB,oBAAQe,MAAR,EAAgBI,MAAhB,EAAwBa,OAAxB,EAAiC,UAAUQ,CAAV,EAAa;AAC1C,oBAAIC,SAAS,EAAb;AACAA,uBAAOvB,SAAP,GAAmBA,SAAnB;AACAuB,uBAAOtB,MAAP,GAAgBA,MAAhB;AACAW,wBAAQW,MAAR;AACH,aALD;AAQH,SAnBM,CAAP;AAoBH;AArC+B,CAApC",
    "file": "..\\..\\..\\src\\controller\\xiaochengxu\\gethaibao.js",
    "sourcesContent": [
        "const Base = require('../base_nb.js');\r\nvar webshot = require('webshot');\r\nconst tengxun_sc = require('../../util/tengxun_sc.js');\r\nvar fs = require('fs');\r\n//获取海报\r\nmodule.exports = class extends Base {\r\n    async indexAction() {\r\n        var date_s = this.ctx.post()\r\n        date_s = JSON.parse(this.decryption(date_s.token))\r\n        var sd_sdf = await this.get_sdf(date_s.url_er)\r\n          var url_e = await tengxun_sc.test_up_etr(sd_sdf.file_name, sd_sdf.urk_dd)  \r\n        let ssd_sd = {}\r\n        ssd_sd.url = url_e\r\n        var sd_ddf = {}\r\n        sd_ddf.code = 0\r\n        sd_ddf.msg = \"success\"\r\n        sd_ddf.data = this.encryption(JSON.stringify(ssd_sd))\r\n\r\n        return this.fail(sd_ddf); //2输出json 推荐\r\n\r\n    }\r\n    get_sdf(url_er) {\r\n        return new Promise((resolve, reject) => {\r\n            var options = {\r\n                screenSize: {\r\n                    width: 375,\r\n                    height: 620\r\n                }\r\n            };\r\n            console.log(url_er);\r\n\r\n            var file_name = think.uuid() + '.png',\r\n                urk_dd = \"runtime/upload/\" + file_name\r\n            webshot(url_er, urk_dd, options, function (e) {\r\n                let sd_dsf = {}\r\n                sd_dsf.file_name = file_name\r\n                sd_dsf.urk_dd = urk_dd\r\n                resolve(sd_dsf)\r\n            });\r\n\r\n\r\n        })\r\n    }\r\n};\r\n"
    ]
}