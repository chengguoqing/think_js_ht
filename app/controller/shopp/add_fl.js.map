{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\controller\\shopp\\add_fl.js"
    ],
    "names": [
        "Base",
        "require",
        "module",
        "exports",
        "indexAction",
        "date_s",
        "ctx",
        "post",
        "addtime",
        "Date",
        "getTime",
        "model",
        "jhde",
        "result",
        "msg",
        "where",
        "id",
        "update",
        "add",
        "type",
        "code",
        "fail"
    ],
    "mappings": ";;AAAA,MAAMA,OAAOC,QAAQ,YAAR,CAAb;AACA;AACAC,OAAOC,OAAP,GAAiB,cAAcH,IAAd,CAAmB;AAC1BI,eAAN,GAAoB;AAAA;;AAAA;AAChB,gBAAIC,SAAS,MAAKC,GAAL,CAASC,IAAT,EAAb;AACAF,mBAAOG,OAAP,GAAiB,IAAIC,IAAJ,GAAWC,OAAX,EAAjB;AACA,kBAAMC,QAAQ,MAAKA,KAAL,CAAW,QAAX,CAAd;AACA,gBAAIC,OAAO,EAAX;AAAA,gBACIC,SAAS,EADb;AAAA,gBAEIC,MAAM,EAFV;AAGA,gBAAI,MAAKR,GAAL,CAASC,IAAT,CAAc,IAAd,CAAJ,EAAyB;AACrBM,yBAAS,MAAMF,MAAMI,KAAN,CAAY;AACvBC,wBAAI,MAAKV,GAAL,CAASC,IAAT,CAAc,IAAd;AADmB,iBAAZ,EAEZU,MAFY,CAEL,MAAKX,GAAL,CAASC,IAAT,EAFK,CAAf;AAGAO,sBAAM,QAAN;AACH,aALD,MAKO;AACHD,yBAAS,MAAMF,MAAMO,GAAN,CAAUb,MAAV,CAAf;AACAS,sBAAM,QAAN;AAEH;AACD,gBAAID,OAAOM,IAAP,IAAe,OAAnB,EAA4B;AAAE;AAC1BP,qBAAKQ,IAAL,GAAY,CAAC,CAAb;AACAR,qBAAKE,GAAL,GAAW,QAAX;AACH,aAHD,MAGO;AACHF,qBAAKQ,IAAL,GAAY,CAAZ;AACAR,qBAAKE,GAAL,GAAWA,GAAX;AACH;AACD,mBAAO,MAAKO,IAAL,CAAUT,IAAV,CAAP,CAxBgB,CAwBQ;AAxBR;AA0BnB;;AA3B+B,CAApC",
    "file": "..\\..\\..\\src\\controller\\shopp\\add_fl.js",
    "sourcesContent": [
        "const Base = require('../base.js');\r\n//添加分类\r\nmodule.exports = class extends Base {\r\n    async indexAction() {\r\n        var date_s = this.ctx.post()\r\n        date_s.addtime = new Date().getTime()\r\n        const model = this.model('fenlei');\r\n        var jhde = {},\r\n            result = \"\",\r\n            msg = \"\"\r\n        if (this.ctx.post('id')) {\r\n            result = await model.where({\r\n                id: this.ctx.post('id')\r\n            }).update(this.ctx.post());\r\n            msg = \"分类修改成功\"\r\n        } else {\r\n            result = await model.add(date_s);\r\n            msg = \"分类添加成功\"\r\n\r\n        }\r\n        if (result.type == \"exist\") { //已存在\r\n            jhde.code = -1\r\n            jhde.msg = '分类添加失败'\r\n        } else {\r\n            jhde.code = 0\r\n            jhde.msg = msg\r\n        }\r\n        return this.fail(jhde); //2输出json 推荐\r\n\r\n    }\r\n\r\n};\r\n"
    ]
}