{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\controller\\comm\\wx_load.js"
    ],
    "names": [
        "Base",
        "require",
        "request",
        "appid",
        "secret",
        "module",
        "exports",
        "indexAction",
        "date_s",
        "ctx",
        "post",
        "JSON",
        "parse",
        "decryption",
        "token",
        "sd_Dff",
        "get_oppenid",
        "code",
        "sd_ddf",
        "msg",
        "data",
        "encryption",
        "stringify",
        "fail",
        "Promise",
        "resolve",
        "reject",
        "url",
        "method",
        "err",
        "response",
        "body"
    ],
    "mappings": ";;AAAA,MAAMA,OAAOC,QAAQ,eAAR,CAAb;AACA,IAAIC,UAAUD,QAAQ,SAAR,CAAd;AACA,IAAIE,QAAQ,oBAAZ;AAAA,IACIC,SAAS,kCADb;;AAGA;AACAC,OAAOC,OAAP,GAAiB,cAAcN,IAAd,CAAmB;AAC1BO,eAAN,GAAoB;AAAA;;AAAA;AAChB,gBAAIC,SAAS,MAAKC,GAAL,CAASC,IAAT,EAAb;AACAF,qBAASG,KAAKC,KAAL,CAAW,MAAKC,UAAL,CAAgBL,OAAOM,KAAvB,CAAX,CAAT;AACA,gBAAIC,SAAS,MAAM,MAAKC,WAAL,CAAiBR,OAAOS,IAAxB,CAAnB;;AAEA,gBAAIC,SAAS,EAAb;AACAA,mBAAOD,IAAP,GAAc,CAAd;AACAC,mBAAOC,GAAP,GAAa,SAAb;AACAD,mBAAOE,IAAP,GAAc,MAAKC,UAAL,CAAgBV,KAAKW,SAAL,CAAeP,MAAf,CAAhB,CAAd;;AAGA,mBAAO,MAAKQ,IAAL,CAAUL,MAAV,CAAP,CAXgB,CAWU;AAXV;AAanB;;AAEDF,gBAAYC,IAAZ,EAAkB;AACd,eAAO,IAAIO,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCxB,oBAAQ;AACJyB,qBAAM,sDAAqDxB,KAAM,WAAUC,MAAO,YAAWa,IAAK,gCAD9F;AAEJW,wBAAQ;AAFJ,aAAR,EAGG,UAAUC,GAAV,EAAeC,QAAf,EAAyBC,IAAzB,EAA+B;AAC9BN,wBAAQM,IAAR;AACH,aALD;AAMH,SAPM,CAAP;AASH;;AA1B+B,CAApC",
    "file": "..\\..\\..\\src\\controller\\comm\\wx_load.js",
    "sourcesContent": [
        "const Base = require('../base_nb.js');\r\nvar request = require('request');\r\nvar appid = \"wx30f2eb708506f491\",\r\n    secret = \"189e0d0d1ccb64c1d81650f5782b1048\"\r\n\r\n//微信登录获取openid\r\nmodule.exports = class extends Base {\r\n    async indexAction() {\r\n        var date_s = this.ctx.post()\r\n        date_s = JSON.parse(this.decryption(date_s.token))\r\n        var sd_Dff = await this.get_oppenid(date_s.code)\r\n\r\n        var sd_ddf = {}\r\n        sd_ddf.code = 0\r\n        sd_ddf.msg = \"success\"\r\n        sd_ddf.data = this.encryption(JSON.stringify(sd_Dff))\r\n\r\n\r\n        return this.fail(sd_ddf); //2输出json 推荐\r\n\r\n    }\r\n\r\n    get_oppenid(code) {\r\n        return new Promise((resolve, reject) => {\r\n            request({\r\n                url: `https://api.weixin.qq.com/sns/jscode2session?appid=${appid}&secret=${secret}&js_code=${code}&grant_type=authorization_code`,\r\n                method: 'get'\r\n            }, function (err, response, body) {\r\n                resolve(body)\r\n            });\r\n        })\r\n\r\n    }\r\n\r\n};\r\n"
    ]
}